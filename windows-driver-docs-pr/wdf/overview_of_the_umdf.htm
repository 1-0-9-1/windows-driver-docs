<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="This topic provides a high-level overview of User-Mode Driver Framework (UMDF) components and describes how your driver interacts with system-supplied components. It applies to both UMDF versions 1 and 2."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Overview of UMDF</title>

<meta name="MS-HAID" content="umdfobjectdg_c845b84f-eb30-43eb-8a01-4361efd361e7.xml"/>
<meta name="MS-HAID" content="umdf.overview_of_the_umdf"/>
<meta name="MS-HAID" content="wdf.architecture_of_the_umdf"/>
<meta name="MS-HAID" content="wdf.overview_of_the_umdf"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.overview_of_the_umdf"></a>Overview of UMDF</h1>
</div>
<p> This topic provides a high-level overview of User-Mode Driver Framework (UMDF) components and describes how your driver interacts with system-supplied components. It applies to both UMDF versions 1 and 2.</p>
<p>UMDF drivers abstract hardware functionality, run in the user-mode environment, and can access various services. UMDF drivers operate as part of a stack of drivers that manage a device. File system drivers, display drivers, and print drivers cannot be UMDF drivers.</p>
<p>A UMDF driver interacts with the following system-supplied components:</p>
<ul>
<li>
<p>Driver host process</p>
<p>The driver host process loads vendor-supplied UMDF drivers and framework DLLs, provides an execution environment for user-mode drivers, and routes messages between drivers in a user-mode stack. For more information, see <a href="umdf_driver_host_process.htm">UMDF Driver Host Process</a>.</p>
</li>
<li>
<p>Driver manager</p>
<p>The driver manager is a Windows service that manages all instances of the Wudfhost driver host process. The driver manager launches and tracks information about each driver host process. Each host is a child process of the driver manager. Only one driver manager exists per system. The driver manager starts during installation of the first UMDF device and runs on the system thereafter.</p>
</li>
<li>
<p>Reflector</p>
<p>The reflector is a kernel-mode driver that permits an application and a driver host process (and user-mode device stacks) to communicate. The reflector creates a separate device object for each device instance and handles Plug and Play (PnP) and power I/O requests associated with each device instance. All communication between the application and the driver host process happens through the reflector. For more information, see <a href="detailed_view_of_the_umdf_architecture.htm">Architecture of UMDF</a>.</p>
</li>
</ul>
<p>All function and filter drivers for a given device must run in the same driver host process, but multiple host processes can be running concurrently.</p>
<p>The following diagram shows how driver host processes, driver manager, and reflector communicate across the user mode/kernel mode boundary. </p><img src="images/umdfarch3.gif" alt="UMDF components including up and down device objects in reflector"/><p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20Overview of UMDF%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
