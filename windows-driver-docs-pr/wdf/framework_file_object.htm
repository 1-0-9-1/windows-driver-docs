<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Framework File Object"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Framework File Object</title>

<meta name="MS-HAID" content="umdfobjectdg_a73997ad-772c-43f4-a9b0-f43512e99456.xml"/>
<meta name="MS-HAID" content="umdf.framework_file_object"/>
<meta name="MS-HAID" content="wdf.framework_file_object"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.framework_file_object"></a>Framework File Object</h1>
</div>
<p class="CCE_Message">[This topic applies to UMDF 1.<i>x</i>.]</p>
<p>The framework file object is exposed to drivers by the <a href="wdf.iwdffile">IWDFFile</a> interface. It is the framework representation of the opened device. When an application opens the device through the Microsoft Win32 <a href="fs.createfile"><b>CreateFile</b></a> function, the framework creates a file object to represent the opened device instance. Therefore, the framework file object is conceptually equivalent to the Win32 handle that is returned from the application's call to <b>CreateFile</b>. The framework can create multiple file objects associated with a single device. Each file object is created for each successful call to <b>CreateFile</b>. All I/O operations, like reads and writes, are targeted to a specific file-object instance.</p>
<div class="alert"><b>Note</b>    All requests passed to UMDF drivers are associated with file objects. However, requests that are passed to <a href="kernel.windows_driver_model">WDM</a> and <a href="wdf.kernel_mode_driver_framework_overview">KMDF</a> drivers are sometimes not associated with file objects.</div>
<div> </div>
<p>A UMDF driver can call the <a href="wdf.iwdfiorequest_getfileobject"><b>IWDFIoRequest::GetFileObject</b></a> method to obtain the file object associated with a request.</p>
<p>When your driver calls <a href="wdf.iwdfiorequest_getfileobject"><b>GetFileObject</b></a>, the framework increments the reference count on the interface.  Your driver is responsible for releasing the reference when finished with the interface pointer. To do so, either use a smart pointer that automatically decrements the reference count when the object goes out of context, or call  <a href="com.iunknown_release"><b>Release</b></a> on the interface when finished with it.  For a code example that shows how to use a smart pointer, see <b>GetFileObject</b>.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20Framework File Object%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
