<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Framework Object Hierarchy"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Framework Object Hierarchy</title>

<meta name="MS-HAID" content="umdfobjectdg_8c483193-f504-4825-9db8-9043fc9f8328.xml"/>
<meta name="MS-HAID" content="umdf.framework_object_hierarchy"/>
<meta name="MS-HAID" content="wdf.framework_object_hierarchy"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.framework_object_hierarchy"></a>Framework Object Hierarchy</h1>
</div>
<p class="CCE_Message">[This topic applies to UMDF 1.<i>x</i>.]</p>
<p>The following figure shows the parent-child framework object hierarchy.</p><img src="images/umdfhierarchy.gif" alt="UMDF parent-child object hierarchy"/><p>The lifetime scope of framework objects is determined by their location in the hierarchy and how the objects are created. The lifetime scope of framework objects falls into one of the following categories:</p>
<ul>
<li>
<p>The framework controls the creation and destruction of the objects.</p>
<p>The framework creates and destroys objects, such as the <a href="framework_driver_object.htm">driver object</a> and <a href="framework_device_object.htm">device object</a>, in response to system events. When a user-mode driver calls the <a href="wdf.iwdfdriver_createdevice"><b>IWDFDriver::CreateDevice</b></a> method to create the device object, the driver can optionally register to be notified by the framework before the device object is destroyed.</p>
</li>
<li>
<p>The framework creates the object; however, the driver controls when the object is released.</p>
<p>The <a href="framework_i_o_request_object.htm">I/O request object</a> follows this pattern when I/O is presented to the driver. The framework creates the request object, and the request object's lifetime is valid until the driver calls the <a href="wdf.iwdfiorequest_complete"><b>IWDFIoRequest::Complete</b></a> method.</p>
</li>
<li>
<p>The driver creates the object and associates the object with another framework object.</p>
<p>Some framework objects are created by a method that is exposed by a parent framework object instance that the objects are to be associated to for lifetime-management purposes. The <a href="wdf.iwdfdevice_createioqueue"><b>IWDFDevice::CreateIoQueue</b></a> method is an example of this pattern. If a call to <b>IWDFDevice::CreateIoQueue</b> succeeds, the newly created I/O queue is associated with the device instance that the <a href="wdf.iwdfdevice">IWDFDevice</a> interface represents. When the parent object is destroyed, the framework automatically cleans up child instances. Drivers are notified of these events if the drivers register appropriate callback functions with the framework.</p>
</li>
</ul>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20Framework Object Hierarchy%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
