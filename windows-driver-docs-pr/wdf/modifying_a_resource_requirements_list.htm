<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Modifying a Resource Requirements List"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Modifying a Resource Requirements List</title>

<meta name="MS-HAID" content="Ch4_DFPnPPackage_8caebee8-1463-4c62-8d85-43ab9f880997.xml"/>
<meta name="MS-HAID" content="kmdf.modifying_a_resource_requirements_list"/>
<meta name="MS-HAID" content="wdf.modifying_a_resource_requirements_list"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.modifying_a_resource_requirements_list"></a>Modifying a Resource Requirements List</h1>
</div>
<p>After the PnP manager has ensured that all of a newly connected device's drivers have been loaded, it sends the device's hardware requirements list to the device's driver stack. </p>
<p>As the list travels down the stack, the framework calls each function and filter driver's <a href="wdf.evtdevicefilterremoveresourcerequirements"><i>EvtDeviceFilterRemoveResourceRequirements</i></a> callback function, passing the hardware requirements list as an input argument. This callback function can remove hardware resources from the hardware requirements list that the bus driver has specified but that the function driver determines are not necessary for the device to operate. </p>
<p>For example, a PCI bus driver might, in accordance with the PCI specification, replicate an I/O space resource in memory space. If your device can operate without using the I/O space resource, the device's function driver can remove the I/O space resource from the hardware requirements list.</p>
<p>To remove items from the requirements list, a driver  can do the following:</p>
<ul>
<li>Call the following methods to modify the logical configurations in the resource requirements list:<ul>
<li><a href="wdf.wdfioresourcerequirementslistgetcount"><b>WdfIoResourceRequirementsListGetCount</b></a>, to obtain the number of logical configurations.</li>
<li><a href="wdf.wdfioresourcerequirementslistgetioreslist"><b>WdfIoResourceRequirementsListGetIoResList</b></a>, to obtain access to a logical configuration.</li>
<li><a href="wdf.wdfioresourcerequirementslistremove"><b>WdfIoResourceRequirementsListRemove</b></a> and <a href="wdf.wdfioresourcerequirementslistremovebyioreslist"><b>WdfIoResourceRequirementsListRemoveByIoResList</b></a>, to remove a logical configuration.</li>
</ul>
</li>
<li>Call the following methods to modify the resource descriptors within a logical configuration:<ul>
<li><a href="wdf.wdfioresourcelistgetcount"><b>WdfIoResourceListGetCount</b></a>, to obtain the number of resource descriptors.</li>
<li><a href="wdf.wdfioresourcelistgetdescriptor"><b>WdfIoResourceListGetDescriptor</b></a>, to obtain access to a resource descriptor.</li>
<li><a href="wdf.wdfioresourcelistremove"><b>WdfIoResourceListRemove</b></a> and <a href="wdf.wdfioresourcelistremovebydescriptor"><b>WdfIoResourceListRemoveByDescriptor</b></a>, to remove a resource descriptor.</li>
</ul>
</li>
</ul>
<p>As the list travels back up the driver stack, the framework calls each function and filter driver's <a href="wdf.evtdevicefilteraddresourcerequirements"><i>EvtDeviceFilterAddResourceRequirements</i></a> callback function, passing the hardware requirements list as an input argument. This callback function can add additional hardware resources that the function driver requires to make the device operational.</p>
<p>To add items to the hardware requirements list, a driver can do the following:</p>
<ul>
<li>Call the following methods to modify the logical configurations in the resource requirements list:<ul>
<li><a href="wdf.wdfioresourcerequirementslistgetcount"><b>WdfIoResourceRequirementsListGetCount</b></a>, to obtain the number of logical configurations.</li>
<li><a href="wdf.wdfioresourcerequirementslistgetioreslist"><b>WdfIoResourceRequirementsListGetIoResList</b></a>, to obtain access to a logical configuration.</li>
<li><a href="wdf.wdfioresourcelistcreate"><b>WdfIoResourceListCreate</b></a>, to create a new logical configuration.</li>
<li><a href="wdf.wdfioresourcerequirementslistappendioreslist"><b>WdfIoResourceRequirementsListAppendIoResList</b></a> or <a href="wdf.wdfioresourcerequirementslistinsertioreslist"><b>WdfIoResourceRequirementsListInsertIoResList</b></a>, to add a new logical configuration.</li>
</ul>
</li>
<li>Call the following methods to modify the resource descriptors within a logical configuration:<ul>
<li><a href="wdf.wdfioresourcelistgetcount"><b>WdfIoResourceListGetCount</b></a>, to obtain the number of resource descriptors.</li>
<li><a href="wdf.wdfioresourcelistgetdescriptor"><b>WdfIoResourceListGetDescriptor</b></a>, to obtain access to a resource descriptor.</li>
<li><a href="wdf.wdfioresourcelistappenddescriptor"><b>WdfIoResourceListAppendDescriptor</b></a> or <a href="wdf.wdfioresourcelistinsertdescriptor"><b>WdfIoResourceListInsertDescriptor</b></a>, to add a resource descriptor.</li>
</ul>
</li>
</ul>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20Modifying a Resource Requirements List%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
