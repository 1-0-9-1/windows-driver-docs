<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Porting WMI"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Porting WMI</title>

<meta name="MS-HAID" content="kmdf.porting_wmi_code"/>
<meta name="MS-HAID" content="wdf.porting_wmi_code"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.porting_wmi_code"></a>Porting WMI</h1>
</div>
<p class="CCE_Message">[Applies to KMDF only]</p>
<p>An <a href="kernel.irp_mj_system_control"><b>IRP_MJ_SYSTEM_CONTROL</b></a> request represents a request for WMI data. WDM drivers handle such requests by implementing a <a href="kernel.dispatchsystemcontrol"><i>DispatchSystemControl</i></a> function and registering as a WMI data provider. WDM drivers that do not respond to such requests implement a <i>DispatchSystemControl</i> routine that simply passes the IRPs down to the next lower driver.</p>
<p>For KMDF drivers, the framework provides default handling for <a href="kernel.irp_mj_system_control"><b>IRP_MJ_SYSTEM_CONTROL</b></a>. Drivers that do not provide WMI data are not required to include any WMI-related code. Instead, the framework passes the request to the next lower driver on behalf of the driver.</p>
<p>For implementation details, see <a href="supporting_wmi_in_kmdf_drivers.htm">Supporting WMI in KMDF Drivers</a>.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20Porting WMI%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
