<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="This topic describes recommendations for testing a Kernel-Mode Driver Framework (KMDF) or User-Mode Driver Framework (UMDF) version 2 driver."/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Testing a WDF Driver (KMDF or UMDF)</title>

<meta name="MS-HAID" content="Ch0_DFArchOverview_827b2d4c-95fb-47df-9c6e-5e66c9376369.xml"/>
<meta name="MS-HAID" content="kmdf.testing_a_framework_based_driver"/>
<meta name="MS-HAID" content="kmdf.testing_a_kmdf_driver"/>
<meta name="MS-HAID" content="wdf.testing_a_kmdf_driver"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.testing_a_kmdf_driver"></a>Testing a WDF Driver (KMDF or UMDF)</h1>
</div>
<p>This topic describes recommendations for testing a Kernel-Mode Driver Framework (KMDF) or User-Mode Driver Framework (UMDF) version 2 driver.</p>
<p>When testing your driver, you should:</p>
<ul>
<li>
<p> Set the <b>VerifierOn</b> registry value to enable the framework's driver verification features. For more information about <b>VerifierOn</b> and other registry values that you can use when you are debugging and testing your driver, see <a href="using_kmdf_verifier.htm">Using KMDF Verifier</a> and <a href="using_umdf_verifier.htm">Using UMDF Verifier</a>. For information about an application that helps you to use the framework's driver verification features, see <a href="devtest.wdf_verifier_control_application">WDF Verifier Control Application</a>.</p>
</li>
<li>For both UMDF versions 1 and  2, enable <a href="http://www.microsoft.com/en-us/download/details.aspx?id=20028">Application Verifier (AppVerif.exe)</a> on Wudfhost.exe. For example:<div class="code"><span codelanguage=""><table>
<tr>
<th></th>
</tr>
<tr>
<td>
<pre>appverif -enable handles locks heaps memory exceptions TLS -for WudfHost.exe</pre>
</td>
</tr>
</table></span></div>Doing so automatically turns on the framework's built-in verification.</li>
<li> Use the driver verification tools that are described in this documentation. For more information about these important tools, see: <dl>
<dd><a href="devtest.wdftester__wdf_driver_testing_toolset">WdfTester: WDF Driver Testing Toolset</a></dd>
<dd><a href="devtest.tools_for_verifying_drivers">Tools for Verifying Drivers</a></dd>
<dd><a href="devtest.tools_for_testing_drivers">Tools for Testing Drivers</a></dd>
</dl>
</li>
</ul>
<p>To thoroughly test your driver, you must use both the framework's driver verification features and the driver verification tools.</p>
<p>For general information about testing your driver using Microsoft Visual Studio and the Windows Driver Kit (WDK), see <a href="https://msdn.microsoft.com/windows-drivers/develop/testing_a_driver">Testing a Driver</a>.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20Testing a WDF Driver (KMDF or UMDF)%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
