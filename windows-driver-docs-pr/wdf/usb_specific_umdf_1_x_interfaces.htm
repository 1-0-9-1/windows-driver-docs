<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="USB-Specific UMDF 1.x Interfaces"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>USB-Specific UMDF 1.x Interfaces</title>

<meta name="MS-HAID" content="umdfobjectdg_0ceb4c65-6b2a-482b-8f34-a5d4036613fc.xml"/>
<meta name="MS-HAID" content="umdf.the_umdf_usb_object_model"/>
<meta name="MS-HAID" content="wdf.the_umdf_usb_object_model"/>
<meta name="MS-HAID" content="wdf.usb_specific_umdf_1_x_interfaces"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.usb_specific_umdf_1_x_interfaces"></a>USB-Specific UMDF 1.x Interfaces</h1>
</div>
<p class="CCE_Message">[This topic applies to UMDF 1.<i>x</i>.]</p>
<p>A USB device can have one or more configurations. Each configuration can have one or more interfaces. Each interface is associated with one or more alternate settings, and each alternate setting defines one or more endpoints. An endpoint represents a buffer on the device hardware. </p>
<p> A pipe is a software abstraction of a connection between the host controller and an endpoint in the current alternate setting. A pipe can be a target for I/O, and is exposed in UMDF by the <a href="wdf.iwdfusbtargetpipe">IWDFUsbTargetPipe</a> interface.</p>
<p>The USB-specific UMDF interfaces are built on top of the <a href="buses.winusb">WinUSB</a>  architecture. By design, WinUSB allows access only to the first configuration of a multiple configuration device. Therefore, the WinUSB interface does not expose the ability to submit a select-configuration request. Consequently, the I/O target functionality in UMDF does not support selecting any device configuration other than the first.</p>
<p>The USB-specific UMDF interfaces have an object hierarchy that is similar to that of the general USB model. A UMDF driver creates a target device object, which is exposed by the <a href="wdf.iwdfusbtargetdevice">IWDFUsbTargetDevice</a> interface. The driver can then use methods of IWDFUsbTargetDevice to access USB interfaces, which are exposed by instances of <a href="wdf.iwdfusbinterface">IWDFUsbInterface</a>. The driver can call IWDFUsbInterface methods to manipulate settings and endpoints.</p>
<p>The following table shows the USB-specific UMDF interface hierarchy:</p>
<table>
<tr>
<th>USB-specific UMDF interface</th>
<th>Derived from</th>
</tr>
<tr>
<td><a href="wdf.iwdfusbtargetdevice">IWDFUsbTargetDevice</a></td>
<td><a href="wdf.iwdfiotarget">IWDFIoTarget</a></td>
</tr>
<tr>
<td><a href="wdf.iwdfusbinterface">IWDFUsbInterface</a></td>
<td><a href="wdf.iwdfobject">IWDFObject</a></td>
</tr>
<tr>
<td><a href="wdf.iwdfusbtargetpipe">IWDFUsbTargetPipe</a></td>
<td><a href="wdf.iwdfiotarget">IWDFIoTarget</a></td>
</tr>
</table>
<p> </p>
<p>The <a href="wdf.iwdfusbtargetdevice">IWDFUsbTargetDevice</a> and <a href="wdf.iwdfusbtargetpipe">IWDFUsbTargetPipe</a> interfaces derive from the <a href="wdf.iwdfiotarget">IWDFIoTarget</a> interface and, therefore, expose I/O target objects. The <a href="wdf.iwdfusbinterface">IWDFUsbInterface</a> interface does not derive from IWDFIoTarget (IWDFUsbInterface derives from the <a href="wdf.iwdfobject">IWDFObject</a> interface) and, therefore, does not expose an I/O target object. Any I/O sent to discover and manipulate interface details is sent to the target device.</p>
<p>For step-by-step directions on writing a simple UMDF-based USB  client driver, see <a href="buses.implement_driver_entry_for_a_usb_driver__umdf_">How to write your first USB client driver (UMDF)</a>.</p>
<p>To learn about the source code required for a UMDF-based USB client driver, see <a href="buses.understanding_the_umdf_template_code_for_usb">Understanding the USB client driver code structure (UMDF)</a>.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20USB-Specific UMDF 1.x Interfaces%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
