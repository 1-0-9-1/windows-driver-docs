<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Using General Framework Objects"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Using General Framework Objects</title>

<meta name="MS-HAID" content="Ch1_DFPatterns_f23e845a-c015-4cbe-9cd4-479639da5502.xml"/>
<meta name="MS-HAID" content="kmdf.using_general_framework_objects"/>
<meta name="MS-HAID" content="wdf.using_general_framework_objects"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.using_general_framework_objects"></a>Using General Framework Objects</h1>
</div>
<p>The <i>general framework object</i> is the framework object from which all other types of framework objects are derived.</p>
<p>Like other framework objects, general objects support a reference count, context space, deletion callback functions, and a parent object, as described in <a href="introduction_to_framework_objects.htm">Introduction to Framework Objects</a>.</p>
<p>Drivers can create and use general framework objects. If your driver calls <a href="wdf.wdfobjectcreate"><b>WdfObjectCreate</b></a> to create general objects, the driver can:</p>
<ul>
<li>
<p>Create one or more context spaces for each general object.</p>
<p>You can use object context space to store information about system resources that you want to associate with the general object. </p>
<p>For more information about context space, see <a href="framework_object_context_space.htm">Framework Object Context Space</a>.</p>
</li>
<li>
<p>Assign a parent to the general object. </p>
<p>The general object will be deleted when the parent object is deleted. For example, if your driver specifies a framework device object as the parent object of one of its general objects, the framework will delete the general object when it deletes the device object. </p>
<p>Drivers specify an object's parent object by setting the <b>ParentObject</b> member of the object's <a href="wdf.wdf_object_attributes"><b>WDF_OBJECT_ATTRIBUTES</b></a> structure.</p>
</li>
<li>
<p>Provide deletion callback functions. </p>
<p>The driver can provide <a href="wdf.evtcleanupcallback"><i>EvtCleanupCallback</i></a> and <a href="wdf.evtdestroycallback"><i>EvtDestroyCallback</i></a> functions, which can deallocate system resources that the driver allocated when it created the general object. For example, if the driver called <a href="kernel.exallocatepool"><b>ExAllocatePool</b></a> when it created a general object, the cleanup or destroy callback function can call <a href="kernel.exfreepool"><b>ExFreePool</b></a>.</p>
</li>
</ul>
<p>Using general objects can be a convenient way to manage driver-allocated resources. For example, a higher-level driver might require multiple memory allocations to process a received I/O request, if the driver sends the request to multiple devices or breaks the request into several smaller ones. The driver can create one or more general objects that are children of the received I/O request, and it can store information about the memory allocations in the general objects' context space. </p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20Using General Framework Objects%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
