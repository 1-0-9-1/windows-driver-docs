<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Operation Flow with Double Device Stack"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Operation Flow with Double Device Stack</title>

<meta name="MS-HAID" content="umdfobjectdg_f95a7f73-14c0-41fb-bb23-88b7dff2c43a.xml"/>
<meta name="MS-HAID" content="umdf.operation_flow_with_double_device_stack"/>
<meta name="MS-HAID" content="wdf.operation_flow_with_double_device_stack"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.operation_flow_with_double_device_stack"></a>Operation Flow with Double Device Stack</h1>
</div>
<p class="CCE_Message">[This topic applies to UMDF 1.<i>x</i>.]</p>
<p>The following figure shows the flow of operations that occur to and from UMDF filter and functional drivers in a double device stack.</p><img src="images/umdfflow2.gif" alt="UMDF I/O call sequence for UMDF filter driver and UMDF function driver"/><div class="alert"><b>Note</b>    All I/O that is initiated by applications is routed through kernel mode as shown in the figures in the <a href="wdf.architecture_of_the_umdf">Architecture of the UMDF</a> section, even though the preceding figure does not show this situation.</div>
<div> </div>
<p>The UMDF filter and function drivers might also call the <a href="wdf.iwdfiorequest_getcreateparameters"><b>IWDFIoRequest::GetCreateParameters</b></a> method if they require information about the file that is associated with the read request. The UMDF filter and function drivers might also call the <a href="wdf.iwdfiorequest_getreadparameters"><b>IWDFIoRequest::GetReadParameters</b></a> method if they require more information about the read request. </p>
<p>The UMDF functional driver calls the <a href="wdf.iwdfiorequest_complete"><b>IWDFIoRequest::Complete</b></a> or <a href="wdf.iwdfiorequest_completewithinformation"><b>IWDFIoRequest::CompleteWithInformation</b></a> method to signal to the filter driver that it is done with the read operation. The UMDF filter driver might also call methods of the <a href="wdf.iwdfiorequestcompletionparams">IWDFIoRequestCompletionParams</a> interface if it requires more information to complete the read request. The UMDF filter driver calls <b>Complete</b> or <b>CompleteWithInformation</b> to signal that the read operation is complete; the application can then access the read data.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20Operation Flow with Double Device Stack%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
