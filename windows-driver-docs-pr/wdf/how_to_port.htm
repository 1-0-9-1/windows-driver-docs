<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Steps in Porting"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Steps in Porting</title>

<meta name="MS-HAID" content="kmdf.how_to_port"/>
<meta name="MS-HAID" content="wdf.how_to_port"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.how_to_port"></a>Steps in Porting</h1>
</div>
<p>Depending on the type of driver, porting involves performing the following steps:</p>
<p>
<ol>
<li><a href="porting_driver_entry.htm">Port the DriverEntry routine</a> and add code to create the WDFDRIVER object.</li>
<li><a href="porting_adddevice_to_evtdriverdeviceadd.htm">Port the AddDevice routine</a> to an <a href="wdf.evtdriverdeviceadd"><i>EvtDriverDeviceAdd</i></a> callback, and add code to create the WDFDEVICE objects.</li>
<li>Add support for <a href="porting_interrupt_functionality.htm">interrupts</a> if the driver supports interrupt handling.</li>
</ol>
</p>
<p>At this point, you can perform the remaining steps incrementally and in any order, testing and debugging after each addition. For example, you can start by implementing the I/O queues and using the framework defaults for Plug and Play and power management. After you have debugged the basic I/O support, you can add support for more extensive Plug and Play and power management requests. The remaining steps are as follows:</p>
<ul>
<li>Add support for <a href="porting_pnp_and_power_management_functionality.htm">Plug and Play and power management</a>.</li>
<li>Add <a href="porting_i_o_handling.htm">I/O support</a>.</li>
<li>Add support for <a href="porting_dma.htm">DMA</a>, if the device performs DMA.<sup>&#x2020;</sup></li>
<li><a href="porting_wmi_code.htm">Port WMI code</a>.<sup>&#x2020;</sup></li>
<li>Port code to <a href="requests_that_kmdf_does_not_support.htm">handle requests that the framework does not handle on behalf of KMDF drivers</a>.<sup>&#x2020;</sup></li>
<li><a href="installation_procedure.htm">Revise the INF</a> that installs the driver.</li>
</ul>
<p>&#x2020;&#160;This functionality is only available to Kernel-Mode Driver Framework (KMDF) drivers.</p>
<p>Except as noted, the information in this section applies to all types of drivers (PDO, FDO, and filter DO). However, if you are porting a bus driver (PDO) to KMDF, you will also need to port the device enumeration code.  For information about enumerating devices, see <a href="enumerating_the_devices_on_a_bus.htm">Enumerating the Devices on a Bus</a>.</p>
<p>
For reference information  describing the ways that the various WDF objects, methods, and event callback functions map to common WDM objects and functions, see <a href="summary_of_kmdf_and_wdm_equivalents.htm">Summary of KMDF and WDM Equivalents</a>.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20Steps in Porting%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
