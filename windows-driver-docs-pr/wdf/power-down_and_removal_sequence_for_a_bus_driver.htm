<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:mssdk="winsdk" xmlns:script="urn:script" xmlns:build="urn:build" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="Description" content="Power-Down and Removal Sequence for a Bus Driver"/>
<meta name="MSHAttr" content="PreferredSiteName:MSDN"/>
<meta name="MSHAttr" content="PreferredLib:/library/windows/hardware"/>
<title>Power-Down and Removal Sequence for a Bus Driver</title>

<meta name="MS-HAID" content="kmdf.power-down_and_removal_sequence_for_a_physical_device_object"/>
<meta name="MS-HAID" content="kmdf.power-down_and_removal_sequence_for_a_bus_driver"/>
<meta name="MS-HAID" content="wdf.power-down_and_removal_sequence_for_a_bus_driver"/>


<link rel="STYLESHEET" type="text/css" HREF="../common/backsdk4.css"/>


</head>
<body>

<div id="mainSection">
<div class="clsServerSDKContent">
<h1><a id="wdf.power-down_and_removal_sequence_for_a_bus_driver"></a>Power-Down and Removal Sequence for a Bus Driver</h1>
</div>
<p>The following figure  shows the order in which the framework calls a KMDF bus driver's event callback functions when powering down and removing a device that is connected to the bus. The sequence starts at the top of the figure with an operational device that is in the working power state (D0):</p>
<p><img src="images/pdo_powerdown.png" alt="Power-Down and Removal Sequence for a Bus Driver"/></p>
<p>The framework does not delete the PDO until the device is physically removed from the system. For example, if a user disables the device in Device Manager or stops it in the Safely Remove Hardware utility but does not physically remove the device, the framework retains the PDO. If the device is later re-enabled, the framework uses the same PDO and begins the startup sequence by calling the <a href="wdf.evtdevicepreparehardware"><i>EvtDevicePrepareHardware</i></a> callback, as shown in <a href="power-up_sequence_for_a_bus_driver.htm">Power-Up Sequence for a Physical Device Object</a>.</p>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [wdf\wdf]:%20Power-Down and Removal Sequence for a Bus Driver%20 RELEASE:%20(3/15/2016)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
</div>
<p style="text-align:left;font-family:Arial,sanserif;font-size:100%;color:black">
&#x00a9;&#x00a0;2016 Microsoft. All rights reserved.</p>

</body>
</html>
