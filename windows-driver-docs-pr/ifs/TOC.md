# [Installable file system driver design guide](index.md)
## [File System Drivers](file-system-drivers.md)
### [Installing a File System Driver](installing-a-file-system-driver.md)
#### [Creating an INF File for a File System Driver](creating-an-inf-file-for-a-file-system-driver.md)
### [Using Extra Create Parameters with an IRP_MJ_CREATE Operation](using-extra-create-parameters-with-an-irp-mj-create-operation.md)
#### [Attaching ECPs to IRP_MJ_CREATE Operations that a Kernel-Mode Driver Originated](attaching-ecps-to-irp-mj-create-operations-that-a-kernel-mode-driver-o.md)
#### [Using ECPs to Process IRP_MJ_CREATE Operations in a File System Filter Driver](using-ecps-to-process-irp-mj-create-operations-in-a-file-system-filter.md)
#### [User-Defined ECPs](user-defined-ecps.md)
#### [System-Defined ECPs](system-defined-ecps.md)
## [File System Filter Drivers](file-system-filter-drivers.md)
### [File System Fundamentals](file-system-fundamentals.md)
#### [What Determines When a Driver Is Loaded](what-determines-when-a-driver-is-loaded.md)
#### [What Happens to File Systems During System Boot](what-happens-to-file-systems-during-system-boot.md)
#### [Storage Device Stacks, Storage Volumes, and File System Stacks](storage-device-stacks--storage-volumes--and-file-system-stacks.md)
##### [Storage Device Stacks](storage-device-stacks.md)
##### [Storage Volumes](storage-volumes.md)
##### [File System Stacks](file-system-stacks.md)
#### [Mounting a Volume](mounting-a-volume.md)
##### [How the Volume Is Mounted](how-the-volume-is-mounted.md)
##### [Volume Mount Example](volume-mount-example.md)
### [Introduction to File System Filter Drivers](introduction-to-file-system-filter-drivers.md)
#### [What Is a File System Filter Driver?](what-is-a-file-system-filter-driver-.md)
#### [File System Filter Drivers Are Not Device Drivers](file-system-filter-drivers-are-not-device-drivers.md)
##### [How File System Filter Drivers Are Similar to Device Drivers](how-file-system-filter-drivers-are-similar-to-device-drivers.md)
##### [How File System Filter Drivers Are Different from Device Drivers](how-file-system-filter-drivers-are-different-from-device-drivers.md)
#### [Installing a File System Filter Driver](installing-a-file-system-filter-driver.md)
##### [Creating an INF File for a File System Filter Driver](creating-an-inf-file-for-a-file-system-filter-driver.md)
##### [Load Order Groups for File System Filter Drivers ](load-order-groups-for-file-system-filter-drivers.md)
##### [File System Filter Driver Classes and Class GUIDs](file-system-filter-driver-classes-and-class-guids.md)
##### [Using an INF File to Install a File System Filter Driver](using-an-inf-file-to-install-a-file-system-filter-driver.md)
##### [Using an INF File to Uninstall a File System Filter Driver](using-an-inf-file-to-uninstall-a-file-system-filter-driver.md)
#### [Initializing a File System Filter Driver](initializing-a-file-system-filter-driver.md)
##### [Creating the Control Device Object](creating-the-control-device-object.md)
##### [Registering IRP Dispatch Routines](registering-irp-dispatch-routines.md)
##### [Registering Fast I/O Dispatch Routines](registering-fast-i-o-dispatch-routines.md)
##### [Registering FsFilter Callback Routines](registering-fsfilter-callback-routines.md)
##### [Performing Any Other Needed Initialization](performing-any-other-needed-initialization.md)
##### [[Optional] Registering Callback Routines](-optional--registering-callback-routines.md)
##### [[Optional] Saving a Copy of the Registry Path String](-optional--saving-a-copy-of-the-registry-path-string.md)
##### [Returning Status](returning-status.md)
#### [Attaching a Filter to a File System or Volume](attaching-a-filter-to-a-file-system-or-volume.md)
##### [Creating the Filter Device Object](creating-the-filter-device-object.md)
##### [Attaching the Filter Device Object to the Target Device Object](attaching-the-filter-device-object-to-the-target-device-object.md)
##### [Propagating the DO_BUFFERED_IO and DO_DIRECT_IO Flags](propagating-the-do-buffered-io-and-do-direct-io-flags.md)
##### [Propagating the FILE_DEVICE_SECURE_OPEN Flag](propagating-the-file-device-secure-open-flag.md)
##### [Clearing the DO_DEVICE_INITIALIZING Flag](clearing-the-do-device-initializing-flag.md)
### [Filtering IRPs and Fast I/O](filtering-irps-and-fast-i-o.md)
#### [IRPs Are Different From Fast I/O](irps-are-different-from-fast-i-o.md)
#### [Types of Device Objects Used by File System Filter Drivers](types-of-device-objects-used-by-file-system-filter-drivers.md)
##### [The Filter Driver's Control Device Object](the-filter-driver-s-control-device-object.md)
##### [Filter Device Object Attached to a File System](filter-device-object-attached-to-a-file-system.md)
##### [Filter Device Object Attached to a Volume](filter-device-object-attached-to-a-volume.md)
### [Writing IRP Dispatch Routines](writing-irp-dispatch-routines.md)
#### [Completing the IRP](completing-the-irp.md)
#### [Passing the IRP Down to Lower-Level Drivers](passing-the-irp-down-to-lower-level-drivers.md)
#### [Returning Status from Dispatch Routines](returning-status-from-dispatch-routines.md)
#### [Example: Passing the IRP Down Without Setting a Completion Routine](example--passing-the-irp-down-without-setting-a-completion-routine.md)
#### [Constraints on Dispatch Routines](constraints-on-dispatch-routines.md)
#### [Dispatch Routine IRQL and Thread Context](dispatch-routine-irql-and-thread-context.md)
### [Using IRP Completion Routines](using-irp-completion-routines.md)
#### [How Completion Processing Is Performed](how-completion-processing-is-performed.md)
#### [Checking the PendingReturned Flag](checking-the-pendingreturned-flag.md)
#### [Returning Status from Completion Routines](returning-status-from-completion-routines.md)
#### [Example: Simple Pass-Through Dispatch and Completion](example--simple-pass-through-dispatch-and-completion.md)
#### [Constraints on Completion Routines](constraints-on-completion-routines.md)
### [Tracking Per-Stream Context in a Legacy File System Filter Driver](tracking-per-stream-context-in-a-legacy-file-system-filter-driver.md)
#### [File Streams, Stream Contexts, and Per-Stream Contexts](file-streams--stream-contexts--and-per-stream-contexts.md)
#### [Creating and Using Per-Stream Context Structures](creating-and-using-per-stream-context-structures.md)
##### [Creating a Per-Stream Context](creating-a-per-stream-context.md)
##### [Associating a Per-Stream Context With a File Stream](associating-a-per-stream-context-with-a-file-stream.md)
##### [Deleting a Per-Stream Context](deleting-a-per-stream-context.md)
### [Tracking Per-File Context in a Legacy File System Filter Driver](tracking-per-file-context-in-a-legacy-file-system-filter-driver.md)
### [Blocking legacy file system filter drivers](blocking-file-system-filter-drivers.md)
## [File System Minifilter Drivers](file-system-minifilter-drivers.md)
### [Filter Manager and Minifilter Driver Architecture](filter-manager-and-minifilter-driver-architecture.md)
#### [Filter Manager Concepts](filter-manager-concepts.md)
#### [Advantages of the Filter Manager Model](advantages-of-the-filter-manager-model.md)
#### [Filter Manager Support for Minifilter Drivers](filter-manager-support-for-minifilter-drivers.md)
##### [Loading and Unloading](loading-and-unloading.md)
##### [Processing I/O Operations](processing-i-o-operations.md)
##### [Modifying Parameters](modifying-parameters.md)
##### [Accessing User Buffers](accessing-user-buffers.md)
##### [Managing File Names](managing-file-names.md)
##### [Managing Contexts](managing-contexts.md)
##### [I/O Requests Generated by the Minifilter Driver](i-o-requests-generated-by-the-minifilter-driver.md)
##### [Communication Between User Mode and Kernel Mode](communication-between-user-mode-and-kernel-mode.md)
##### [User-Mode Library](user-mode-library.md)
#### [Controlling Filter Manager Operation](controlling-filter-manager-operation.md)
#### [Development and Testing Tools](development-and-testing-tools.md)
#### [Guidelines for Porting Legacy Filter Drivers](guidelines-for-porting-legacy-filter-drivers.md)
### [Installing a Minifilter Driver](installing-a-minifilter-driver.md)
#### [Creating an INF File for a Minifilter Driver](creating-an-inf-file-for-a-minifilter-driver.md)
#### [Load Order Groups and Altitudes for Minifilter Drivers](load-order-groups-and-altitudes-for-minifilter-drivers.md)
#### [Allocated Altitudes](allocated-altitudes.md)
#### [Minifilter Altitude Request](minifilter-altitude-request.md)
#### [Reparse Point Tag Request](reparse-point-tag-request.md)
### [Writing a DriverEntry Routine for a Minifilter Driver](writing-a-driverentry-routine-for-a-minifilter-driver.md)
#### [Registering the Minifilter Driver](registering-the-minifilter-driver.md)
#### [Initiating Filtering](initiating-filtering.md)
#### [Returning Status from a Minifilter DriverEntry Routine](returning-status-from-a-minifilter-driverentry-routine.md)
### [Writing a FilterUnloadCallback Routine for a Minifilter Driver](writing-a-filterunloadcallback-routine-for-a-minifilter-driver.md)
#### [When the FilterUnloadCallback Routine Is Called](when-the-filterunloadcallback-routine-is-called.md)
#### [Writing a FilterUnloadCallback Routine](writing-a-filterunloadcallback-routine.md)
##### [Closing the Communication Server Port](closing-the-communication-server-port.md)
##### [Unregistering the Minifilter](unregistering-the-minifilter.md)
##### [Performing Global Cleanup](performing-global-cleanup.md)
##### [Returning Status from a FilterUnloadCallback Routine](returning-status-from-a-filterunloadcallback-routine.md)
### [Writing Preoperation and Postoperation Callback Routines](writing-preoperation-and-postoperation-callback-routines.md)
#### [Registering Preoperation and Postoperation Callback Routines](registering-preoperation-and-postoperation-callback-routines.md)
#### [Filtering I/O Operations in a Minifilter Driver](filtering-i-o-operations-in-a-minifilter-driver.md)
#### [Writing Preoperation Callback Routines](writing-preoperation-callback-routines.md)
##### [Passing an I/O Operation Down the Minifilter Driver Instance Stack](passing-an-i-o-operation-down-the-minifilter-driver-instance-stack.md)
###### [Returning FLT_PREOP_SUCCESS_WITH_CALLBACK](returning-flt-preop-success-with-callback.md)
###### [Returning FLT_PREOP_SUCCESS_NO_CALLBACK](returning-flt-preop-success-no-callback.md)
###### [Returning FLT_PREOP_SYNCHRONIZE](returning-flt-preop-synchronize.md)
##### [Completing an I/O Operation in a Preoperation Callback Routine](completing-an-i-o-operation-in-a-preoperation-callback-routine.md)
##### [Disallowing a Fast I/O Operation in a Preoperation Callback Routine](disallowing-a-fast-i-o-operation-in-a-preoperation-callback-routine.md)
##### [Pending an I/O Operation in a Preoperation Callback Routine](pending-an-i-o-operation-in-a-preoperation-callback-routine.md)
#### [Writing Postoperation Callback Routines](writing-postoperation-callback-routines.md)
##### [Performing Completion Processing for an I/O Operation](performing-completion-processing-for-an-i-o-operation.md)
###### [Ensuring that Completion Processing is Performed at Safe IRQL](ensuring-that-completion-processing-is-performed-at-safe-irql.md)
##### [Pending an I/O Operation in a Postoperation Callback Routine](pending-an-i-o-operation-in-a-postoperation-callback-routine.md)
##### [Failing an I/O Operation in a Postoperation Callback Routine](failing-an-i-o-operation-in-a-postoperation-callback-routine.md)
#### [Modifying the Parameters for an I/O Operation](modifying-the-parameters-for-an-i-o-operation.md)
#### [Determining the Buffering Method for an I/O Operation](determining-the-buffering-method-for-an-i-o-operation.md)
##### [Operations That Can Be IRP-Based or Fast I/O](operations-that-can-be-irp-based-or-fast-i-o.md)
##### [IRP-Based I/O Operations That Obey Device Object Flags](irp-based-i-o-operations-that-obey-device-object-flags.md)
##### [IRP-Based I/O Operations That Always Use Buffered I/O](irp-based-i-o-operations-that-always-use-buffered-i-o.md)
##### [IRP-Based I/O Operations That Always Use Neither Buffered Nor Direct I/O](irp-based-i-o-operations-that-always-use-neither-buffered-nor-direct-i.md)
##### [IRP-Based IOCTL and FSCTL Operations](irp-based-ioctl-and-fsctl-operations.md)
##### [IRP-Based I/O Operations That Have No Buffers](irp-based-i-o-operations-that-have-no-buffers.md)
#### [Accessing the User Buffers for an I/O Operation](accessing-the-user-buffers-for-an-i-o-operation.md)
##### [Accessing User Buffers in a Preoperation Callback Routine](accessing-user-buffers-in-a-preoperation-callback-routine.md)
##### [Accessing User Buffers in a Postoperation Callback Routine](accessing-user-buffers-in-a-postoperation-callback-routine.md)
### [Managing Contexts in a Minifilter Driver](managing-contexts-in-a-minifilter-driver.md)
#### [Registering Context Types](registering-context-types.md)
#### [Creating Contexts](creating-contexts.md)
#### [Setting Contexts](setting-contexts.md)
#### [Getting Contexts](getting-contexts.md)
#### [Referencing Contexts](referencing-contexts.md)
#### [Releasing Contexts](releasing-contexts.md)
#### [Deleting Contexts](deleting-contexts.md)
#### [Freeing Contexts](freeing-contexts.md)
#### [File System Support for Contexts](file-system-support-for-contexts.md)
#### [Best Practices](best-practices.md)
## [Network Redirector Drivers](network-redirector-drivers.md)
### [Introduction to Remote File Systems](introduction-to-remote-file-systems.md)
#### [Components of a Remote File System](components-of-a-remote-file-system.md)
### [Introduction to Network Redirectors](introduction-to-network-redirectors.md)
#### [What is a Network Redirector?](what-is-a-network-redirector-.md)
##### [Basic Architecture of a Network Redirector](basic-architecture-of-a-network-redirector.md)
#### [The Kernel-Mode Network Redirector Driver](the-kernel-mode-network-redirector-driver.md)
##### [Network Redirector Design and Performance](network-redirector-design-and-performance.md)
##### [Network Redirector Design in Windows NT](network-redirector-design-in-windows-nt.md)
##### [Network Redirector Design in Windows 2000](network-redirector-design-in-windows-2000.md)
##### [The Redirected Drive Buffering SubSystem](the-redirected-drive-buffering-subsystem.md)
##### [Oplock Semantics](oplock-semantics.md)
###### [Overview](overview.md)
###### [Granting Oplocks](granting-oplocks.md)
###### [Breaking Oplocks](breaking-oplocks.md)
####### [IRP_MJ_CREATE](irp-mj-create2.md)
####### [IRP_MJ_READ](irp-mj-read2.md)
####### [IRP_MJ_WRITE](irp-mj-write2.md)
####### [IRP_MJ_CLEANUP](irp-mj-cleanup2.md)
####### [IRP_MJ_LOCK_CONTROL](irp-mj-lock-control2.md)
####### [IRP_MJ_SET_INFORMATION](irp-mj-set-information2.md)
####### [IRP_MJ_FILE_SYSTEM_CONTROL](irp-mj-file-system-control2.md)
###### [Acknowledging Oplock Breaks](acknowledging-oplock-breaks.md)
### [Kernel Network Redirector Driver Components](kernel-network-redirector-driver-components.md)
#### [The RDBSS Driver and Library](the-rdbss-driver-and-library.md)
##### [Routines Provided by RDBSS](routines-provided-by-rdbss.md)
##### [Macros Defined by RDBSS](macros-defined-by-rdbss.md)
##### [Driver Registration and Start/Stop Control](driver-registration-and-start-stop-control.md)
##### [Pool Allocation and Free Routines](pool-allocation-and-free-routines.md)
##### [Timer and Worker Thread Management](timer-and-worker-thread-management.md)
##### [Work Queue Dispatching Mechanisms](work-queue-dispatching-mechanisms.md)
##### [Diagnostics and Debugging](diagnostics-and-debugging.md)
##### [Logging Routines and Macros](logging-routines-and-macros.md)
##### [Miscellaneous Routines](miscellaneous-routines2.md)
##### [RX_CONTEXT and IRP Management](rx-context-and-irp-management.md)
##### [Connection and File Structure Management](connection-and-file-structure-management.md)
###### [The SRV_CALL Structure](the-srv-call-structure.md)
###### [The NET_ROOT Structure](the-net-root-structure.md)
###### [The V_NET_ROOT Structure](the-v-net-root-structure.md)
###### [The FCB Structure](the-fcb-structure.md)
###### [The SRV_OPEN Structure](the-srv-open-structure.md)
###### [The FOBX Structure](the-fobx-structure.md)
###### [Connections and File Structure Locking](connections-and-file-structure-locking.md)
###### [Connection and File Control Block Management Routines](connection-and-file-control-block-management-routines.md)
##### [FCB Resource Synchronization](fcb-resource-synchronization.md)
##### [Buffering State Control](buffering-state-control.md)
##### [Low I/O Routines](low-i-o-routines.md)
##### [Name Cache Management](name-cache-management.md)
##### [Prefix Table Management](prefix-table-management.md)
##### [Purging and Scavenging Control](purging-and-scavenging-control.md)
##### [Multiplex ID Management](multiplex-id-management.md)
##### [Connection Engine Management](connection-engine-management.md)
#### [The Kernel Network Mini-Redirector Driver](the-kernel-network-mini-redirector-driver.md)
##### [Routines Implemented by the Kernel Network Mini-Redirector](routines-implemented-by-the-kernel-network-mini-redirector.md)
##### [Routines Not Used by RDBSS](routines-not-used-by-rdbss.md)
##### [Connection and Name Resolution](connection-and-name-resolution.md)
##### [Driver Start, Stop, and Device Control](driver-start--stop--and-device-control.md)
##### [File System Object Creation and Deletion](file-system-object-creation-and-deletion.md)
##### [File System Object I/O Routines](file-system-object-i-o-routines.md)
##### [File System Object Query and Set Routines](file-system-object-query-and-set-routines.md)
##### [Miscellaneous Network Mini-Redirector Routines](miscellaneous-network-mini-redirector-routines.md)
### [Writing a Kernel Network Redirector](writing-a-kernel-network-redirector.md)
#### [Support for UNC Naming and MUP](support-for-unc-naming-and-mup.md)
#### [MUP and DFS Interactions](mup-and-dfs-interactions.md)
#### [MUP Changes in Microsoft Windows Vista](mup-changes-in-microsoft-windows-vista.md)
#### [Support for Transactions in Microsoft Windows Vista](support-for-transactions-in-microsoft-windows-vista.md)
#### [Network Redirectors and the File System Process](network-redirectors-and-the-file-system-process.md)
## [Security Considerations for File Systems](security-considerations-for-file-systems.md)
### [Introduction to File Systems Security](introduction-to-file-systems-security.md)
### [General Driver Security Issues](general-driver-security-issues.md)
#### [What is Driver Security](what-is-driver-security.md)
#### [Designing with Security Threat Models](designing-with-security-threat-models.md)
##### [Spoofing Identity](spoofing-identity.md)
##### [Tampering with Data](tampering-with-data.md)
##### [Repudiation](repudiation.md)
##### [Information Disclosure](information-disclosure.md)
##### [Denial of Service](denial-of-service.md)
##### [Elevation of Privilege](elevation-of-privilege.md)
#### [Implementing File Systems to Minimize Security Threats](implementing-file-systems-to-minimize-security-threats.md)
##### [Buffer Handling](buffer-handling.md)
##### [Authentication and Identification](authentication-and-identification.md)
##### [Access Control](access-control.md)
##### [Handle Management](handle-management.md)
#### [Testing for Security](testing-for-security.md)
### [Security Features for File Systems](security-features-for-file-systems.md)
#### [Security Descriptors](security-descriptors.md)
##### [Security Identifier](security-identifier.md)
##### [Access Mask](access-mask.md)
##### [Access Control Entry](access-control-entry.md)
##### [Access Control List](access-control-list.md)
#### [Privileges](privileges.md)
#### [Auditing](auditing.md)
### [File System Security Issues](file-system-security-issues.md)
#### [Semantic Model Checks](semantic-model-checks.md)
##### [Create Processing](create-processing.md)
##### [Delete on Close](delete-on-close.md)
##### [Executable Images](executable-images.md)
##### [Rename and Hard Link Processing](rename-and-hard-link-processing.md)
##### [Set File Information Processing](set-file-information-processing.md)
##### [Neither I/O Operations](neither-i-o-operations.md)
##### [File System Control Processing](file-system-control-processing.md)
##### [Media Validation](media-validation.md)
#### [Security Checks](security-checks.md)
##### [Applying Security Descriptors on the Device Object](applying-security-descriptors-on-the-device-object.md)
##### [IRP_MJ_CREATE Dispatch Routine](irp-mj-create-dispatch-routine.md)
###### [Checking for Traverse Privilege on IRP_MJ_CREATE](checking-for-traverse-privilege-on-irp-mj-create.md)
###### [Checking for Other Special Cases  on IRP_MJ_CREATE](checking-for-other-special-cases--on-irp-mj-create.md)
###### [Adding Auditing on IRP_MJ_CREATE](adding-auditing-on-irp-mj-create.md)
###### [Management of Access Control Lists on IRP_MJ_CREATE](management-of-access-control-lists-on-irp-mj-create.md)
###### [Assigning Security to a New File on IRP_MJ_CREATE](assigning-security-to-a-new-file-on-irp-mj-create.md)
###### [Handling Quotas on IRP_MJ_CREATE](handling-quotas-on-irp-mj-create.md)
##### [IRP_MJ_QUERY_SECURITY and IRP_MJ_SET_SECURITY](irp-mj-query-security-and-irp-mj-set-security.md)
##### [IRP_MJ_DIRECTORY_CONTROL](irp-mj-directory-control2.md)
##### [IRP_MJ_FILE_SYSTEM_CONTROL](irp-mj-file-system-control3.md)
##### [IRP_MJ_SET_INFORMATION](irp-mj-set-information3.md)
##### [Impersonation](impersonation.md)
##### [Process and Thread Termination Issues](process-and-thread-termination-issues.md)
### [Security Considerations for File System Filter Drivers](security-considerations-for-file-system-filter-drivers.md)
#### [Proxy Operations in File System Filter Drivers](proxy-operations-in-file-system-filter-drivers.md)
#### [Impersonation in a File System Filter Driver](impersonation-in-a-file-system-filter-driver.md)
#### [Coexistence with other File System Filter Drivers](coexistence-with-other-file-system-filter-drivers.md)
#### [Memory Mapped Files in a File System Filter Driver](memory-mapped-files-in-a-file-system-filter-driver.md)
#### [Reparse Points in a File System Filter Driver](reparse-points-in-a-file-system-filter-driver.md)
## [Miscellaneous Information](miscellaneous-information.md)
### [Anti-virus optimization for Windows Containers](anti-virus-optimization-for-windows-containers.md)
### [Offloaded Data Transfers](offloaded-data-transfers.md)
### [Locating Disk Images Correctly](locating-disk-images-correctly.md)
### [Understanding Volume Enumerations with Duplicate Volume Names](understanding-volume-enumerations-with-duplicate-volume-names.md)

